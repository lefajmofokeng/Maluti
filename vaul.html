<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maluti TVET - Document Vault</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #1a1a1a;
            --primary-hover: #333333;
            --bg-body: #f3f4f6;
            --bg-surface: #ffffff;
            --border: #e5e7eb;
            --text-main: #111827;
            --text-muted: #6b7280;
            --accent-blue: #eff6ff;
            --accent-blue-text: #2563eb;
            --radius: 12px;
            --font-main: 'Inter', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-body);
            color: var(--text-main);
            height: 100vh;
            overflow: hidden;
        }

        /* Utility: SVGs */
        .icon {
            width: 20px;
            height: 20px;
            stroke-width: 1.5;
            stroke: currentColor;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* --- Login Page Styles (Refreshed) --- */
        .login-container {
            display: flex;
            width: 100%;
            height: 100vh;
            background: var(--bg-surface);
        }

        .left-panel {
            flex: 1;
            background: radial-gradient(circle at top right, #343434 0%, #000000 100%);
            color: white;
            padding: 80px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .left-panel::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: linear-gradient(#d0d0d0 1px, transparent 1px), linear-gradient(90deg, #c5c5c5 1px, transparent 1px);
            background-size: 40px 40px;
            opacity: 0.1;
            pointer-events: none;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 16px;
            z-index: 2;
        }

        .logo {
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 800;
            color: #000;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .hero-content {
            z-index: 2;
            max-width: 600px;
        }

        .hero-content h1 {
            font-size: 64px;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 24px;
            letter-spacing: -1.5px;
        }

        .hero-content p {
            font-size: 20px;
            color: #a1a1aa;
            line-height: 1.6;
            margin-bottom: 48px;
            font-weight: 300;
        }

        .right-panel {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            background: var(--bg-surface);
        }

        .login-box {
            width: 100%;
            max-width: 400px;
        }

        .login-box h2 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 12px;
            letter-spacing: -1px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-main);
        }

        .input-wrapper {
            position: relative;
        }

        .form-group input {
            width: 100%;
            padding: 14px 16px;
            font-size: 16px;
            font-family: var(--font-main);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            outline: none;
            transition: all 0.2s;
            background: var(--bg-body);
        }

        .form-group input:focus {
            background: white;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.05);
        }

        .toggle-password {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-muted);
        }

        .submit-btn {
            width: 100%;
            padding: 16px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 16px;
            font-weight: 600;
            font-family: var(--font-main);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }

        .submit-btn:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
        }

        .error-message {
            color: #ef4444;
            font-size: 14px;
            margin-top: 12px;
            font-weight: 500;
            display: none;
            background: #fef2f2;
            padding: 10px;
            border-radius: 8px;
            border-left: 3px solid #ef4444;
        }

        .error-message.show { display: block; }

        /* --- Vault Dashboard Layout (Grid) --- */
        .vault-container {
            display: none;
            width: 100%;
            height: 100vh;
            background: var(--bg-body);
        }

        .vault-container.active { display: flex; }

        /* Sidebar Styles */
        .sidebar {
            width: 300px;
            background: var(--bg-surface);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            padding: 24px;
            height: 100vh;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-logo {
            width: 32px;
            height: 32px;
            background: var(--primary);
            color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .sidebar-title {
            font-weight: 700;
            font-size: 18px;
            letter-spacing: -0.5px;
        }

        .search-container {
            margin-bottom: 24px;
            position: relative;
        }

        .search-container input {
            width: 100%;
            padding: 12px 12px 12px 40px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            font-family: var(--font-main);
            font-size: 14px;
            background: var(--bg-body);
        }

        .search-icon-svg {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            width: 16px;
            height: 16px;
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            font-weight: 700;
            margin-bottom: 12px;
            padding-left: 12px;
        }

        .nav-btn {
            width: 100%;
            text-align: left;
            background: transparent;
            border: none;
            padding: 10px 12px;
            border-radius: 8px;
            color: var(--text-muted);
            font-family: var(--font-main);
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn:hover {
            background: var(--bg-body);
            color: var(--text-main);
        }

        .nav-btn.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .nav-btn.active svg {
            stroke: white;
        }

        .nav-logout {
            margin-top: auto;
            border-top: 1px solid var(--border);
            padding-top: 16px;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .content-header {
            margin-bottom: 32px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .content-header h1 {
            font-size: 32px;
            font-weight: 800;
            letter-spacing: -1px;
            margin-bottom: 4px;
        }

        .content-header p {
            color: var(--text-muted);
        }

        .document-count {
            background: white;
            padding: 6px 16px;
            border-radius: 20px;
            border: 1px solid var(--border);
            font-size: 14px;
            font-weight: 600;
            color: var(--text-main);
        }

        /* Document Grid & Cards */
        .docs-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
            max-width: 1000px;
        }

        .doc-card {
            background: white;
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            display: flex;
            align-items: center;
            gap: 24px;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .doc-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.08);
            border-color: #d4d4d8;
        }

        .doc-icon-box {
            width: 56px;
            height: 56px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        /* Icon Colors */
        .doc-card[data-type="pdf"] .doc-icon-box { background: #fef2f2; color: #ef4444; }
        .doc-card[data-type="word"] .doc-icon-box { background: #f0fdf4; color: #16a34a; }
        .doc-card[data-type="excel"] .doc-icon-box { background: #f0f9ff; color: #0284c7; }

        .doc-details {
            flex: 1;
        }

        .doc-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 4px;
        }

        .doc-desc {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 8px;
            line-height: 1.4;
            max-width: 600px;
        }

        .doc-meta {
            display: flex;
            gap: 16px;
            font-size: 12px;
            color: #9ca3af;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .doc-action {
            flex-shrink: 0;
        }

        .download-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            font-family: var(--font-main);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .download-btn:hover {
            background: var(--primary-hover);
        }

        .download-btn.success {
            background: #10b981;
        }

        .no-results {
            text-align: center;
            padding: 60px;
            color: var(--text-muted);
            display: none;
        }
        
        .no-results.active { display: block; }

        /* Loader */
        .spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
        }
        
        @keyframes spin { to { transform: rotate(360deg); } }

        @media (max-width: 900px) {
            .login-container { flex-direction: column; }
            .left-panel { padding: 40px; }
            .sidebar { width: 80px; padding: 16px; }
            .sidebar-title, .search-container, .nav-label, .nav-btn span, .header-title { display: none; }
            .nav-btn { justify-content: center; padding: 12px; }
            .main-content { padding: 20px; }
            .doc-card { flex-direction: column; align-items: flex-start; }
            .doc-action { width: 100%; }
            .download-btn { width: 100%; justify-content: center; }
        }
    </style>
</head>
<body>

    <div class="login-container" id="loginPage">
        <div class="left-panel">
            <div class="logo-section">
                <div class="logo">M</div>
                <span class="logo-text">Maluti TVET</span>
            </div>
            <div class="hero-content">
                <h1>Document<br>Intelligence<br>Vault</h1>
                <p>Secure, centralized access to academic resources, campus logistics, and institutional policies for staff.</p>
            </div>
            <div style="font-size: 12px; opacity: 0.5;">¬© 2026 Maluti TVET College</div>
        </div>

        <div class="right-panel">
            <div class="login-box">
                <h2>Welcome back</h2>
                <p style="color: #6b7280; margin-bottom: 32px;">Please enter your credentials to access the vault.</p>

                <form id="loginForm">
                    <div class="form-group">
                        <label for="password">Password</label>
                        <div class="input-wrapper">
                            <input type="password" id="password" placeholder="Enter password" autocomplete="current-password">
                            <button type="button" class="toggle-password" id="togglePassword">
                                <svg class="icon" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            </button>
                        </div>
                        <div class="error-message" id="errorMessage">Invalid credentials provided.</div>
                    </div>

                    <button type="submit" class="submit-btn">
                        <span>Access Vault</span>
                        <svg class="icon" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <div class="vault-container" id="vaultPage">
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">M</div>
                <div class="sidebar-title">Vault</div>
            </div>

            <div class="search-container">
                <svg class="search-icon-svg icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                <input type="text" id="searchInput" placeholder="Search...">
            </div>

            <div class="nav-section">
                <div class="nav-label">Categories</div>
                <button class="nav-btn active" data-filter="all">
                    <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                    <span>All Documents</span>
                </button>
                <button class="nav-btn" data-filter="academic">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                    <span>Academic</span>
                </button>
                <button class="nav-btn" data-filter="policy">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    <span>Policies</span>
                </button>
                <button class="nav-btn" data-filter="forms">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    <span>Forms</span>
                </button>
            </div>

            <div class="nav-section">
                <div class="nav-label">Campuses</div>
                <button class="nav-btn" data-filter="main_campus">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M3 21h18M5 21V7l8-4 8 4v14M8 21v-2a2 2 0 0 1 4 0v2"></path></svg>
                    <span>Main Campus</span>
                </button>
                <button class="nav-btn" data-filter="lere">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    <span>Lere La Tshepe</span>
                </button>
                <button class="nav-btn" data-filter="kwetlisong">
                    <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                    <span>Kwetlisong</span>
                </button>
                <button class="nav-btn" data-filter="harrismith">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                    <span>Harrismith</span>
                </button>
                <button class="nav-btn" data-filter="sefikeng">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
                    <span>Sefikeng</span>
                </button>
            </div>

            <div class="nav-logout">
                <button class="nav-btn" id="logoutBtn" style="color: #ef4444;">
                    <svg class="icon" viewBox="0 0 24 24" style="stroke: #ef4444;"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                    <span>Log Out</span>
                </button>
            </div>
        </div>

        <div class="main-content">
            <div class="content-header">
                <div>
                    <h1 id="pageTitle">All Documents</h1>
                    <p id="pageDesc">Browse and manage all available institutional documents.</p>
                </div>
                <div class="document-count" id="docCount">0 items</div>
            </div>

            <div class="no-results" id="noResults">
                <div style="font-size: 48px; margin-bottom: 16px;">üîç</div>
                <h3>No documents found</h3>
                <p>Try adjusting your search or selection.</p>
            </div>

            <div class="docs-list" id="documentsGrid">
                
                <div class="doc-card" data-category="academic" data-type="pdf">
                    <div class="doc-icon-box">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Academic Calendar 2026</div>
                        <div class="doc-desc">Official schedule including term dates, examination periods, and public holidays for the academic year.</div>
                        <div class="doc-meta">Jan 2026 ‚Ä¢ PDF ‚Ä¢ 2.4 MB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Academic_Calendar_2026.pdf')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                <div class="doc-card" data-category="academic" data-type="word">
                    <div class="doc-icon-box">
                         <svg class="icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Curriculum Guidelines</div>
                        <div class="doc-desc">Comprehensive framework outlining the syllabus structures and teaching methodologies.</div>
                        <div class="doc-meta">Dec 2025 ‚Ä¢ DOCX ‚Ä¢ 1.1 MB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Curriculum_Guidelines.docx')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                <div class="doc-card" data-category="academic" data-type="excel">
                    <div class="doc-icon-box">
                         <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Student Assessment Template</div>
                        <div class="doc-desc">Standardized Excel sheet for recording and calculating student marks and weighted averages.</div>
                        <div class="doc-meta">Jan 2026 ‚Ä¢ XLSX ‚Ä¢ 800 KB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Assessment_Template.xlsx')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                <div class="doc-card" data-category="policy" data-type="pdf">
                    <div class="doc-icon-box">
                         <svg class="icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Staff Handbook 2026</div>
                        <div class="doc-desc">General information, employment conditions, and operational procedures for all staff members.</div>
                        <div class="doc-meta">Jan 2026 ‚Ä¢ PDF ‚Ä¢ 5.2 MB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Staff_Handbook.pdf')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                <div class="doc-card" data-category="forms" data-type="excel">
                    <div class="doc-icon-box">
                         <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Leave Application Form</div>
                        <div class="doc-desc">Official request form for annual, sick, or family responsibility leave.</div>
                        <div class="doc-meta">Jan 2026 ‚Ä¢ XLSX ‚Ä¢ 45 KB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Leave_App.xlsx')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                <div class="doc-card" data-category="main_campus" data-type="pdf">
                    <div class="doc-icon-box">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M3 21h18M5 21V7l8-4 8 4v14M8 21v-2a2 2 0 0 1 4 0v2"></path></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Main Campus - Facility Map</div>
                        <div class="doc-desc">Detailed floor plan of the Main Campus admin block and lecture halls.</div>
                        <div class="doc-meta">Main Campus ‚Ä¢ PDF ‚Ä¢ 1.8 MB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Main_Map.pdf')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                <div class="doc-card" data-category="lere" data-type="word">
                    <div class="doc-icon-box">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Lere La Tshepe - Workshop Safety</div>
                        <div class="doc-desc">Safety protocols specific to the engineering workshops at Lere campus.</div>
                        <div class="doc-meta">Lere La Tshepe ‚Ä¢ DOCX ‚Ä¢ 500 KB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Lere_Safety.docx')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                <div class="doc-card" data-category="kwetlisong" data-type="pdf">
                    <div class="doc-icon-box">
                        <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Kwetlisong - Shuttle Schedule</div>
                        <div class="doc-desc">Transport times for student and staff shuttles to/from Kwetlisong.</div>
                        <div class="doc-meta">Kwetlisong ‚Ä¢ PDF ‚Ä¢ 200 KB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Kwetlisong_Transport.pdf')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                <div class="doc-card" data-category="harrismith" data-type="excel">
                    <div class="doc-icon-box">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Harrismith - Asset Register</div>
                        <div class="doc-desc">Template for logging IT and furniture assets for the Harrismith campus.</div>
                        <div class="doc-meta">Harrismith ‚Ä¢ XLSX ‚Ä¢ 1.2 MB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Harrismith_Assets.xlsx')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

                 <div class="doc-card" data-category="sefikeng" data-type="word">
                    <div class="doc-icon-box">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path></svg>
                    </div>
                    <div class="doc-details">
                        <div class="doc-title">Sefikeng - Exam Venue List</div>
                        <div class="doc-desc">Room allocation for the upcoming examination block at Sefikeng.</div>
                        <div class="doc-meta">Sefikeng ‚Ä¢ DOCX ‚Ä¢ 300 KB</div>
                    </div>
                    <div class="doc-action">
                        <button class="download-btn" onclick="downloadDocument('Sefikeng_Venues.docx')">
                            Download <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // Configuration (Preserved)
        const CORRECT_PASSWORD = 'Lefa@1234';
        const SESSION_KEY = 'maluti_vault_session';

        // DOM Elements
        const loginPage = document.getElementById('loginPage');
        const vaultPage = document.getElementById('vaultPage');
        const loginForm = document.getElementById('loginForm');
        const passwordInput = document.getElementById('password');
        const togglePasswordBtn = document.getElementById('togglePassword');
        const errorMessage = document.getElementById('errorMessage');
        const logoutBtn = document.getElementById('logoutBtn');
        const searchInput = document.getElementById('searchInput');
        const pageTitle = document.getElementById('pageTitle');
        const pageDesc = document.getElementById('pageDesc');
        const docCount = document.getElementById('docCount');

        // Nav Buttons
        const navBtns = document.querySelectorAll('.nav-btn[data-filter]');

        // Descriptions map for headers
        const headerInfo = {
            'all': { title: 'All Documents', desc: 'Browse and manage all available institutional documents.' },
            'academic': { title: 'Academic Resources', desc: 'Calendars, curriculum guides, and assessment templates.' },
            'policy': { title: 'Policies & Procedures', desc: 'Institutional rules, codes of conduct, and safety guidelines.' },
            'forms': { title: 'Forms & Templates', desc: 'Downloadable forms for administrative requests.' },
            'main_campus': { title: 'Main Campus', desc: 'Documents specific to the Main Campus admin and facilities.' },
            'lere': { title: 'Lere La Tshepe', desc: 'Resources for the Lere La Tshepe engineering campus.' },
            'kwetlisong': { title: 'Kwetlisong Campus', desc: 'Logistics and schedules for Kwetlisong.' },
            'harrismith': { title: 'Harrismith Campus', desc: 'Assets and registers for the Harrismith satellite.' },
            'sefikeng': { title: 'Sefikeng Campus', desc: 'Examination and venue details for Sefikeng.' }
        };

        // Session Management
        function isAuthenticated() {
            return sessionStorage.getItem(SESSION_KEY) === 'authenticated';
        }

        function setAuthenticated() {
            sessionStorage.setItem(SESSION_KEY, 'authenticated');
        }

        function clearAuthentication() {
            sessionStorage.removeItem(SESSION_KEY);
        }

        function checkAuth() {
            if (isAuthenticated()) {
                showVault();
            } else {
                showLogin();
            }
        }

        function showLogin() {
            loginPage.style.display = 'flex';
            vaultPage.classList.remove('active');
        }

        function showVault() {
            loginPage.style.display = 'none';
            vaultPage.classList.add('active');
            updateCount();
        }

        // Login Logic
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const enteredPassword = passwordInput.value;
            const submitBtn = loginForm.querySelector('.submit-btn');
            
            submitBtn.disabled = true;
            const originalContent = submitBtn.innerHTML;
            submitBtn.innerHTML = '<div class="spinner"></div> Authenticating...';

            await new Promise(resolve => setTimeout(resolve, 1500));

            if (enteredPassword === CORRECT_PASSWORD) {
                errorMessage.classList.remove('show');
                setAuthenticated();
                passwordInput.value = '';
                showVault();
            } else {
                errorMessage.classList.add('show');
                passwordInput.value = '';
                passwordInput.focus();
            }
            
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalContent;
        });

        // Toggle Password
        togglePasswordBtn.addEventListener('click', () => {
            const type = passwordInput.type === 'password' ? 'text' : 'password';
            passwordInput.type = type;
        });

        // Logout
        logoutBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to log out?')) {
                clearAuthentication();
                showLogin();
            }
        });

        // Navigation & Filtering
        let currentFilter = 'all';

        navBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // UI Update
                navBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Logic Update
                currentFilter = btn.dataset.filter;
                
                // Header Update
                const info = headerInfo[currentFilter];
                if(info) {
                    pageTitle.textContent = info.title;
                    pageDesc.textContent = info.desc;
                }

                filterDocuments();
            });
        });

        searchInput.addEventListener('input', filterDocuments);

        function filterDocuments() {
            const searchTerm = searchInput.value.toLowerCase();
            const cards = document.querySelectorAll('.doc-card');
            const noResults = document.getElementById('noResults');
            let visibleCount = 0;

            cards.forEach(card => {
                const category = card.dataset.category;
                const title = card.querySelector('.doc-title').textContent.toLowerCase();
                const desc = card.querySelector('.doc-desc').textContent.toLowerCase();
                
                // Check Category/Campus Match
                let matchesCategory = false;
                if (currentFilter === 'all') {
                    matchesCategory = true;
                } else {
                    matchesCategory = category === currentFilter;
                }

                // Check Search Match
                const matchesSearch = searchTerm === '' || title.includes(searchTerm) || desc.includes(searchTerm);

                if (matchesCategory && matchesSearch) {
                    card.style.display = 'flex';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            // Update UI State
            if (visibleCount === 0) {
                noResults.classList.add('active');
                document.getElementById('documentsGrid').style.display = 'none';
            } else {
                noResults.classList.remove('active');
                document.getElementById('documentsGrid').style.display = 'flex';
            }
            
            updateCount();
        }

        function updateCount() {
            const visible = document.querySelectorAll('.doc-card[style="display: flex;"]').length;
            // If initial load (style attribute might not be set yet), count all
            const total = document.querySelectorAll('.doc-card').length;
            const finalCount = document.querySelectorAll('.doc-card[style="display: none;"]').length === 0 && currentFilter === 'all' ? total : visible;
            
            docCount.textContent = `${finalCount} item${finalCount !== 1 ? 's' : ''}`;
        }

        // Download Simulation
        window.downloadDocument = function(filename) {
            const content = `Maluti TVET College - Digital Vault\nFile: ${filename}\nDate: ${new Date().toLocaleString()}\n\nThis is a secure document retrieved from the Maluti TVET Vault system.`;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);

            // Button Feedback
            const btn = event.target.closest('button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = 'Downloaded ‚úì';
            btn.classList.add('success');
            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.classList.remove('success');
            }, 2000);
        }

        // Init
        checkAuth();
        filterDocuments(); // Run initial filter to set up counts
    </script>
</body>
</html>